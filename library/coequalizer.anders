module coequalizer where
import library/path

-- In Anders we take Coeq as core primitive and by using it with W-types
-- we then express more ordinary Pushouts and more general HITs like Suspension and n-Sphere.
-- The motivation behind Coeq is van Kampen theorem as in [1].

-- [1]. Nicolai Kraus, Jakob von Raumer.
-- Path spaces of higher inductive types in homotopy type theory.
-- http://pure-oai.bham.ac.uk/ws/files/84880431/Path_Spaces.pdf

-- Coeqalizer 

axiom //~ (A B : U) (f g : A -> B) : U
axiom Î¹ (A B : U) (f g : A -> B) : B -> //~ A B f g
axiom resp (A B : U) (f g : A -> B) (x : A) : Path (//~ A B f g) (Î¹ A B f g (f x)) (Î¹ A B f g (g x))
axiom //~-ind (A B : U) (f g : A -> B) (X : //~ A B f g -> U) (i : Î  (b : B), X (Î¹ A B f g b))
    : (Î  (x : A), PathP (<i> X (resp A B f g x @ i)) (i (f x)) (i (g x))) â†’ (Î  (z : //~ A B f g), X z)
axiom //~-ind-Î²â‚ (A B : U) (f g : A â†’ B) (X : //~ A B f g -> U) (i : Î  (b : B), X (Î¹ A B f g b))
      (Ï : Î  (x : A), PathP (<i> X (resp A B f g x @ i)) (i (f x)) (i (g x))) (b : B)
    : Path (X (Î¹ A B f g b)) (//~-ind A B f g X i Ï (Î¹ A B f g b)) (i b)

-- //~-ind-Î²â‚ need to be definitional to write this properly (i.e. without transp)
{-
axiom //~-ind-Î²â‚‚ (A B : U) (f g : A â†’ B) (X : //~ A B f g -> U) (i : Î  (b : B), X (Î¹ A B f g b))
  (Ï : Î  (x : A), PathP (<i> X (resp A B f g x @ i)) (i (f x)) (i (g x))) (x : A) :
  Path (PathP (<j> X (resp A B f g x @ j)) (i (f x)) (i (g x)))
       (<j> //~-ind A B f g X i Ï (resp A B f g x @ j)) (Ï x)
-}

-- [Shulman] 2015

def SÂ¹ : U := //~ ğŸ ğŸ (id ğŸ) (id ğŸ)
def base : SÂ¹ := Î¹ ğŸ ğŸ (id ğŸ) (id ğŸ) â˜…
def loop : Path SÂ¹ base base := resp ğŸ ğŸ (id ğŸ) (id ğŸ) â˜… 


